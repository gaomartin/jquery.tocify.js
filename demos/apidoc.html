<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PP云API文档</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="PP云API文档">
    <meta name="author" content="martingao">

    <!-- Le styles -->
    <link href="styles/bootstrap.css" rel="stylesheet">
    <link href="http://apps.bdimg.com/libs/jqueryui/1.8.21/themes/black-tie/jquery-ui.css" rel="stylesheet">
    <link href="../src/stylesheets/jquery.tocify.css" rel="stylesheet">
    <link href="styles/prettify.css" type="text/css" rel="stylesheet"/>

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <script src="http://apps.bdimg.com/libs/html5shiv/r29/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <!--<link rel="shortcut icon" href="../assets/ico/favicon.ico">-->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">
    <style>
        body {
            padding-top: 20px;
        }

        p {
            font-size: 16px;
        }

        .headerDoc {
            color: #005580;
        }

        @media (max-width: 767px) {
            #toc {
                position: relative;
                width: 100%;
                margin: 0px 0px 20px 0px;
            }
        }

        .container-fluid * {
            font-family: "Alright Sans LP", "Avenir Next", "Helvetica Neue", Helvetica, Arial, "PingFang SC", "Source Han Sans SC", "Hiragino Sans GB", "Microsoft YaHei", "WenQuanYi MicroHei", sans-serif;
        }
        *, p, a {
            font-family: "Alright Sans LP", "Avenir Next", "Helvetica Neue", Helvetica, Arial, "PingFang SC", "Source Han Sans SC", "Hiragino Sans GB", "Microsoft YaHei", "WenQuanYi MicroHei", sans-serif;
            color: #666e80;
        }

        .container-fluid h2, h3, h4 {
            margin-top: 20px;
            margin-bottom: 20px;
        }

        .container-fluid ul {
            padding-left: 20px;
        }
        .container-fluid li {
            line-height: 1.6;
            margin-bottom: 3px;
        }
        .container-fluid p {
            line-height: 1.6;
        }
    </style>
</head>
<body>
<div class="container-fluid">
    <div class="row-fluid">
        <div class="span3">
            <div id="toc">
                <!--<p>PP云API文档</p>-->
            </div><!--/.well -->
        </div><!--/span-->
        <div class="span9">
            <!--<div class="hero-unit">-->
            <h2>使用指南</h2>
            <p>
                该文档是包含点播和直播API功能，基于标准HTTP RESTFULL协议实现
                <br/>
            </p>
            <p>
                相关说明
            </p>
            <ul>
                <li>字符编码：UTF-8</li>
                <li>接口参数：GET和JSON两种方式</li>
                <li>参数类型：int 代表整数类型；string 代表字符串类型，如果后面有括号，括号中的数字代表该参数的最大长度；array表示数组类型</li>
            </ul>
            <!--</div>-->

            <h2>apitk定义</h2>
            <p>所有接口需要通过输入的apitk参数做合法性验证，具体如下：</p>
            <p>apitk定义: apitk = MD5(key + url)</p>
            <p>apitk按照约定规则和算法由调用接口前预先生成，接口服务器接受请求后按照同样算法进行比较，比较结果相同则允许访问。</p>
            <p>其中key为用户key,登录PP云后台获取，如下操作：</p>
            <p>
                <img src="images/apitkget.png">
            </p>
            <p>url为请求的url地址</p>
            <p>比如新增分类接口，假设username对应的key为“key1”，访问的url为</p>
            <p>http://svc.pptvyun.com/svc/v1/api/channel/upload</p>
            <p>则加密值为：</p>
            <p>key1http://svc.pptvyun.com/svc/v1/api/channel/upload</p>
            <p>这个串进行md5加密后的md5码</p>
            <p>43f4a9cc56b1b1fb3d5a1364baa51782</p>

            <h2>点播</h2>
            <h3>视频上传</h3>
            <h4>有插上传</h4>
            <p>需要用户安装上传插件</p>
            <ul>
                <li>插件仅支持32位浏览器</li>
                <li>插件仅提供上传功能,页面部分需自行开发</li>
                <li>安装插件后,请提示用户重启浏览器</li>
            </ul>
            <h4>无插上传</h4>
            <p>无插上传功能请参考单独文档 <a href="#" target="_blank" style="color:red;">无插上传文档</a></p>
            <h4>创建视频</h4>
            <h5>接口定义</h5>
            <table class="table table-striped table-bordered">
                <tr>
                    <td>接口描述</td>
                    <td>创建视频信息</td>
                </tr>
                <tr>
                    <td>接口地址</td>
                    <td><a target="_blank" href="http://svc.pptvyun.com/svc/v1/api/channel/upload">http://svc.pptvyun.com/svc/v1/api/channel/upload</a></td>
                </tr>
                <tr>
                    <td>接口协议</td>
                    <td>HTTP POST</td>
                </tr>
                <tr>
                    <td>HTTP HEADER</td>
                    <td>Content-Type=application/json</td>
                </tr>
            </table>
            <h5>请求参数</h5>
            <table class="table table-striped table-bordered">
                <tr>
                    <th>名称</th>
                    <th>说明</th>
                    <th>数据类型</th>
                    <th>必填</th>
                </tr>
                <tr>
                    <td>name</td>
                    <td class="optionName" title="说明"
                        data-content="视频名称">视频名称(需要URLEncode)</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>summary</td>
                    <td class="optionName" title="说明"
                        data-content="视频简介">视频简介(需要URLEncode)</td>
                    <td>string</td>
                    <td>否</td>
                </tr>
                <tr>
                    <td>coverimg</td>
                    <td class="optionName" title="说明"
                        data-content="封面图url地址">封面图url地址(需要URLEncode)</td>
                    <td>string</td>
                    <td>否</td>
                </tr>
                <tr>
                    <td>length</td>
                    <td class="optionName" title="说明"
                        data-content="视频文件大小">视频文件大小，单位：字节</td>
                    <td>int</td>
                    <td>否</td>
                </tr>
                <tr>
                    <td>ppfeature</td>
                    <td class="optionName" title="说明"
                        data-content="视频特征码">视频特征码</td>
                    <td>string</td>
                    <td>否</td>
                </tr>
                <tr>
                    <td>username</td>
                    <td class="optionName" title="说明"
                        data-content="用户名">PP云用户名</td>
                    <td>string</td>
                    <td>否</td>
                </tr>
                <tr>
                    <td>apitk</td>
                    <td class="optionName" title="说明"
                        data-content="apitk">API Token</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
            </table>
            <h5>请求示例</h5>
            <p>
                URL:
                <a target="_blank" href="http://svc.pptvyun.com/svc/v1/api/channel/upload">
                    http://svc.pptvyun.com/svc/v1/api/channel/upload
                </a>
            </p>
            <p>
                Body:
            </p>
            <pre class="prettyprint"><code class="language-" data-lang="">
    {
        "username": "ppcloud-api@pptv.com",
        "apitk": "40DBE2897822767DC41DD8491802EDBB",
        "categoryid": "444",
        "name": "videoTest",
        "summary": "summaryTest",
        "coverimg": "",
        "length": "10990",
        "ppfeature": "168344442_143797ceff994e618f89c13551b4e49637d0f7d6"
    }
            </code></pre>
            <h5>响应内容</h5>
            <table class="table table-striped table-bordered">
                <tr>
                    <th>名称</th>
                    <th>说明</th>
                    <th>数据类型</th>
                </tr>
                <tr>
                    <td>username</td>
                    <td class="optionName" title="说明"
                        data-content="PP云用户名">PP云用户名</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>apitk</td>
                    <td class="optionName" title="说明"
                        data-content="apitk">API Token</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>categoryid</td>
                    <td class="optionName" title="说明"
                        data-content="分类id">分类id</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>name</td>
                    <td class="optionName" title="说明"
                        data-content="视频名称">视频名称</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>summary</td>
                    <td class="optionName" title="说明"
                        data-content="视频描述">视频描述</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>coverimg</td>
                    <td class="optionName" title="说明"
                        data-content="封面图片">封面图片</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>length</td>
                    <td class="optionName" title="说明"
                        data-content="视频文件大小">视频文件大小，单位：字节</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>ppfeature</td>
                    <td class="optionName" title="说明"
                        data-content="视频特征码">视频特征码</td>
                    <td>string</td>
                </tr>
            </table>
            <h5>返回示例</h5>
<pre class="prettyprint">
    {
      "data": {
        "id": 1476021,
        "categoryId": 29743,
        "userId": 151,
        "subUserId": 151,
        "channelName": "videoTest",
        "channelSummary": "summaryTest",
        "coverImage": "",
        "fId": 1522476,
        "isPlay": 1,
        "channelId": 158412095,
        "channelType": 1,
        "createTime": 1463571624718,
        "channelWebId": "0a2dnq6ZoaKcoquL4K2dnqfhoaSjn6aXoQ",
        "length": 10990,
        "ppfeature": "168344442_143797ceff994e618f89c13551b4e49637d0f7d6",
        "userName": null,
        "transcodeStatus": 0,
        "liveStatus": null,
        "duration": 0,
        "screenshot": null,
        "vod_status": 0,
        "file_status": 0,
        "extend": {
          "username": "ppcloud-api@pptv.com",
          "title": "videoTest",
          "cata": "科教"
        },
        "epg_category_id": null,
        "info_status": null,
        "pptvsPlayStr": "pptvs://4NzN4tvXr%2BTl2dui4ODi2NqL09jN1%2BTK3M%2FVzbOWpaigmqiVqaU%3D"
      },
      "err": 0,
      "msg": "addUserChannel success"
    }
</pre>

            <h3>修改视频</h3>
            <h4>接口定义</h4>
            <table class="table table-striped table-bordered">
                <tr>
                    <td>接口描述</td>
                    <td>编辑视频信息</td>
                </tr>
                <tr>
                    <td>接口地址</td>
                    <td><a target="_blank" href="http://svc.pptvyun.com/svc/v2/api/channel/{channelwebid}">http://svc.pptvyun.com/svc/v2/api/channel/{channelwebid}</a></td>
                </tr>
                <tr>
                    <td>接口协议</td>
                    <td>HTTP POST</td>
                </tr>
                <tr>
                    <td>HTTP HEADER</td>
                    <td>Content-Type=application/json</td>
                </tr>
            </table>
            <h4>请求参数</h4>
            <table class="table table-striped table-bordered">
                <tr>
                    <th>名称</th>
                    <th>说明</th>
                    <th>数据类型</th>
                    <th>必填</th>
                </tr>
                <tr>
                    <td>channelname</td>
                    <td class="optionName" title="说明"
                        data-content="视频名称">视频名称(需要URLEncode)</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>channelsummary</td>
                    <td class="optionName" title="说明"
                        data-content="视频简介">视频简介(需要URLEncode)</td>
                    <td>string</td>
                    <td>否</td>
                </tr>
                <tr>
                    <td>coverimage</td>
                    <td class="optionName" title="说明"
                        data-content="封面图url地址">封面图url地址(需要URLEncode)</td>
                    <td>string</td>
                    <td>否</td>
                </tr>
                <tr>
                    <td>username</td>
                    <td class="optionName" title="说明"
                        data-content="用户名">PP云用户名</td>
                    <td>string</td>
                    <td>否</td>
                </tr>
                <tr>
                    <td>apitk</td>
                    <td class="optionName" title="说明"
                        data-content="apitk">API Token</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
            </table>
            <h4>请求示例</h4>
            <p>
                URL:
                <a target="_blank" href="http://svc.pptvyun.com/svc/v1/api/channel/0a2dnquVpKKhoK2L4K2log">
                    http://svc.pptvyun.com/svc/v1/api/channel/0a2dnquVpKKhoK2L4K2log
                </a>
            </p>
            <p>
                Body:
            </p>
            <pre class="prettyprint">
    {
        "username": "ppcloud-api@pptv.com",
        "apitk": "75D2152D2499C55B87FEEC3860F56FEA",
        "channelname": "modifyvideo",
        "categoryid": "444",
        "channelsummary": "modifysummary"
    }
            </pre>
            <h4>响应内容</h4>
            <table class="table table-striped table-bordered">
                <tr>
                    <th>名称</th>
                    <th>说明</th>
                    <th>数据类型</th>
                </tr>
                <tr>
                    <td>username</td>
                    <td class="optionName" title="说明"
                        data-content="PP云用户名">PP云用户名</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>apitk</td>
                    <td class="optionName" title="说明"
                        data-content="apitk">API Token</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>categoryid</td>
                    <td class="optionName" title="说明"
                        data-content="分类id">分类id</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>name</td>
                    <td class="optionName" title="说明"
                        data-content="视频名称">视频名称</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>summary</td>
                    <td class="optionName" title="说明"
                        data-content="视频描述">视频描述</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>coverimg</td>
                    <td class="optionName" title="说明"
                        data-content="封面图片">封面图片</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>length</td>
                    <td class="optionName" title="说明"
                        data-content="视频文件大小">视频文件大小，单位：字节</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>ppfeature</td>
                    <td class="optionName" title="说明"
                        data-content="视频特征码">视频特征码</td>
                    <td>string</td>
                </tr>
            </table>
            <h4>返回示例</h4>
<pre class="prettyprint">
    {
      "data": {
        "id": null,
        "categoryId": 29743,
        "userId": 151,
        "channelName": "modifyvideo",
        "channelSummary": "modifysummary",
        "coverImage": null,
        "fId": null,
        "isPlay": null,
        "channelId": 158412095,
        "channelType": null,
        "createTime": null,
        "channelWebId": "0a2dnq6ZoaKcoquL4K2dnqc",
        "length": null,
        "ppfeature": null,
        "userName": null,
        "transcodeStatus": null,
        "liveStatus": null,
        "duration": null,
        "realDuration": null,
        "screenshot": null,
        "liveStartTime": null,
        "liveEndTime": null,
        "updateTime": null,
        "isDeleted": null,
        "shareAuth": null,
        "nexttk": null,
        "subContactName": null,
        "passportName": null,
        "vv": null,
        "isChild": null,
        "nickName": null,
        "liveStatusLong": null,
        "online": null,
        "sourceUserName": null,
        "watchProtocol": null,
        "timeLimit": null,
        "timePreset": null,
        "sourceUser": null,
        "epg_category_id": null,
        "info_status": null,
        "epgCategoryName": null,
        "seriesId": null,
        "seriesName": null,
        "toibo": 0,
        "live2vodStatus": null,
        "toIboReviewStatus": null,
        "toIboReviewOperator": null,
        "roomId": null,
        "reviewFailedReason": null,
        "siteName": null,
        "displayable": null,
        "pptvsPlayStr": "pptvs://4NzN4tvXr%2BTl2dui4ODi2NqL09jN1%2BTK3M%2FVzbOWpaigmqiVqaU%3D"
      },
      "err": 0,
      "msg": "udpateUserChannel success"
    }
</pre>

            <h3>删除视频</h3>
            <h4>接口定义</h4>
            <table class="table table-striped table-bordered">
                <tr>
                    <td>接口描述</td>
                    <td>删除视频</td>
                </tr>
                <tr>
                    <td>接口地址</td>
                    <td><a target="_blank" href="http://svc.pptvyun.com/svc/v2/api/channel/delete">http://svc.pptvyun.com/svc/v2/api/channel/delete</a></td>
                </tr>
                <tr>
                    <td>接口协议</td>
                    <td>HTTP DELETE</td>
                </tr>
                <tr>
                    <td>HTTP HEADER</td>
                    <td>Content-Type=application/json</td>
                </tr>
            </table>
            <h4>请求参数</h4>
            <table class="table table-striped table-bordered">
                <tr>
                    <th>名称</th>
                    <th>说明</th>
                    <th>数据类型</th>
                    <th>必填</th>
                </tr>
                <tr>
                    <td>channelwebids</td>
                    <td class="optionName" title="说明"
                        data-content="视频加密串">视频加密串,以逗号分隔</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>username</td>
                    <td class="optionName" title="说明"
                        data-content="用户名">PP云用户名</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>apitk</td>
                    <td class="optionName" title="说明"
                        data-content="apitk">API Token</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
            </table>
            <h4>请求示例</h4>
            <p>
                URL:
                <a target="_blank" href="http://svc.pptvyun.com/svc/v2/api/channel/delete">
                    http://svc.pptvyun.com/svc/v2/api/channel/delete
                </a>
            </p>
            <p>
                Body:
            </p>
            <pre class="prettyprint">
    {
        "username": "ppcloud-api@pptv.com",
        "apitk": "A5656A07144031F53E7D9AB9164BC173",
        "channelwebids": "0a2dnq6ZoaKcoquL4K2lovKWpKeimaiW"
    }
            </pre>
            <h4>返回示例</h4>
<pre class="prettyprint">
    {
      "data": "",
      "err": 0,
      "msg": "deleteUserChannel success"
    }
</pre>

            <h3>视频列表</h3>
            <h4>接口定义</h4>
            <table class="table table-striped table-bordered">
                <tr>
                    <td>接口描述</td>
                    <td>视频列表</td>
                </tr>
                <tr>
                    <td>接口地址</td>
                    <td><a target="_blank" href="http://svc.pptvyun.com/svc/v1/api/channel/channellist">http://svc.pptvyun.com/svc/v1/api/channel/channellist</a></td>
                </tr>
                <tr>
                    <td>接口协议</td>
                    <td>HTTP GET</td>
                </tr>
                <tr>
                    <td>HTTP HEADER</td>
                    <td>Content-Type=application/json</td>
                </tr>
            </table>
            <h4>请求参数</h4>
            <table class="table table-striped table-bordered">
                <tr>
                    <th>名称</th>
                    <th>说明</th>
                    <th>数据类型</th>
                    <th>必填</th>
                </tr>
                <tr>
                    <td>channelwebid</td>
                    <td class="optionName" title="说明"
                        data-content="视频加密串">视频加密串</td>
                    <td>string</td>
                    <td>否</td>
                </tr>
                <tr>
                    <td>key</td>
                    <td class="optionName" title="说明"
                        data-content="搜索关键字">搜索关键字</td>
                    <td>string</td>
                    <td>否</td>
                </tr>
                <tr>
                    <td>pagenum</td>
                    <td class="optionName" title="说明"
                        data-content="当前页">当前页</td>
                    <td>int</td>
                    <td>否</td>
                </tr>
                <tr>
                    <td>pagesize</td>
                    <td class="optionName" title="说明"
                        data-content="每页记录数">每页记录数</td>
                    <td>int</td>
                    <td>否</td>
                </tr>
                <tr>
                    <td>username</td>
                    <td class="optionName" title="说明"
                        data-content="用户名">PP云用户名</td>
                    <td>string</td>
                    <td>否</td>
                </tr>
                <tr>
                    <td>createtimestart</td>
                    <td class="optionName" title="说明"
                        data-content="创建时间起始">创建时间起始</td>
                    <td>int</td>
                    <td>否</td>
                </tr>
                <tr>
                    <td>createtimeend</td>
                    <td class="optionName" title="说明"
                        data-content="创建时间截止">创建时间截止</td>
                    <td>int</td>
                    <td>否</td>
                </tr>
                <tr>
                    <td>apitk</td>
                    <td class="optionName" title="说明"
                        data-content="apitk">API Token</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
            </table>
            <h4>请求示例</h4>
            <p>
                URL:
                <a target="_blank" href="http://svc.pptvyun.com/svc/v1/api/channel/channellist?username=ppcloud-api@pptv.com&apitk=9698E2AADD67533696E56A6C3491DA06">
                    http://svc.pptvyun.com/svc/v1/api/channel/channellist?username=ppcloud-api@pptv.com&apitk=9698E2AADD67533696E56A6C3491DA06
                </a>
            </p>
            <h4>响应内容</h4>
            <table class="table table-striped table-bordered">
                <tr>
                    <th>名称</th>
                    <th>说明</th>
                    <th>数据类型</th>
                </tr>
                <tr>
                    <td>id</td>
                    <td class="optionName" title="说明"
                        data-content="视频id">视频id</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>categoryId</td>
                    <td class="optionName" title="说明"
                        data-content="分类id">分类id</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>channelName</td>
                    <td class="optionName" title="说明"
                        data-content="视频名称">视频名称</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>channelSummary</td>
                    <td class="optionName" title="说明"
                        data-content="视频简介">视频简介</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>coverImage</td>
                    <td class="optionName" title="说明"
                        data-content="封面图url">封面图url</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>fId</td>
                    <td class="optionName" title="说明"
                        data-content="文件id">文件id</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>isPlay</td>
                    <td class="optionName" title="说明"
                        data-content="是否播放 1：开启 0：关闭">是否播放</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>channelId</td>
                    <td class="optionName" title="说明"
                        data-content="频道id">频道id</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>channelType</td>
                    <td class="optionName" title="说明"
                        data-content="视频类型 1：点播 2：直播">视频类型</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>createTime</td>
                    <td class="optionName" title="说明"
                        data-content="创建时间">创建时间</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>channelWebId</td>
                    <td class="optionName" title="说明"
                        data-content="视频webid">视频webid</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>pptvsPlayStr</td>
                    <td class="optionName" title="说明"
                        data-content="播放串">播放串</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>userName</td>
                    <td class="optionName" title="说明"
                        data-content="用户名称">用户名称</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>transcodeStatus</td>
                    <td class="optionName" title="说明"
                        data-content="转码状态">转码状态</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>liveStatus</td>
                    <td class="optionName" title="说明"
                        data-content="直播状态">直播状态</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>duration</td>
                    <td class="optionName" title="说明"
                        data-content="视频时长,单位:秒">视频时长</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>screenshot</td>
                    <td class="optionName" title="说明"
                        data-content="视频截图url">视频截图url</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>liveStartTime</td>
                    <td class="optionName" title="说明"
                        data-content="直播开始时间">直播开始时间</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>liveEndTime</td>
                    <td class="optionName" title="说明"
                        data-content="直播结束时间">直播结束时间</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>updateTime</td>
                    <td class="optionName" title="说明"
                        data-content="最后修改时间">最后修改时间</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>subUserName</td>
                    <td class="optionName" title="说明"
                        data-content="子帐号名称">子帐号名称</td>
                    <td>string</td>
                </tr>
            </table>
            <h4>返回示例</h4>
<pre class="prettyprint">
    {
      "data": [
        {
          "id": 1476021,
          "categoryId": 29743,
          "channelName": "videoTest",
          "channelSummary": "summaryTest",
          "coverImage": "",
          "fId": 1522476,
          "isPlay": 1,
          "channelId": 158412095,
          "channelType": 1,
          "createTime": 1463571624000,
          "channelWebId": "0a2dnq6ZoaKcoquL4K2dnqfhoaSjn6aXoQ",
          "length": 10990,
          "ppfeature": "168344442_143797ceff994e618f89c13551b4e49637d0f7d6",
          "userName": "ppcloud-api@pptv.com",
          "transcodeStatus": 0,
          "liveStatus": null,
          "duration": 0,
          "realDuration": null,
          "screenshot": null,
          "liveStartTime": 1463571624718,
          "liveEndTime": null,
          "updateTime": 1463571624000,
          "shareAuth": null,
          "nexttk": "0a2dnayYpaedn6iZoKCcj-aioaWd5aeZp6acm6c",
          "subContactName": "xuxin",
          "vv": null,
          "isChild": 0,
          "nickName": null,
          "online": null,
          "sourceUserName": null,
          "timeLimit": null,
          "timePreset": null,
          "sourceUser": 0,
          "epg_category_id": null,
          "info_status": null,
          "epgCategoryName": null,
          "seriesId": 0,
          "seriesName": null,
          "toibo": 0,
          "live2vodStatus": null,
          "toIboReviewStatus": 0,
          "toIboReviewOperator": null,
          "roomId": null,
          "reviewFailedReason": null,
          "siteName": "idontknow",
          "displayable": 0,
          "pptvsPlayStr": "pptvs://4NzN4tvXr%2BTl2dui4ODi2NqL09jN1%2BTK3M%2FVzbOWpaigmqiVqaU%3D"
        }
      ],
      "err": 0,
      "msg": null,
      "totalnum": 74
    }
</pre>

            <h3>视频屏蔽</h3>
            <h4>接口定义</h4>
            <table class="table table-striped table-bordered">
                <tr>
                    <td>接口描述</td>
                    <td>开启/屏蔽视频操作</td>
                </tr>
                <tr>
                    <td>接口地址</td>
                    <td><a target="_blank" href="http://svc.pptvyun.com/svc/v2/api/channel/playable">http://svc.pptvyun.com/svc/v2/api/channel/playable</a></td>
                </tr>
                <tr>
                    <td>接口协议</td>
                    <td>HTTP POST</td>
                </tr>
                <tr>
                    <td>HTTP HEADER</td>
                    <td>Content-Type=application/json</td>
                </tr>
            </table>
            <h4>请求参数</h4>
            <table class="table table-striped table-bordered">
                <tr>
                    <th>名称</th>
                    <th>说明</th>
                    <th>数据类型</th>
                    <th>必填</th>
                </tr>
                <tr>
                    <td>isplay</td>
                    <td class="optionName" title="说明"
                        data-content="1开启、0关闭">1开启、0关闭</td>
                    <td>int</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>channelwebids</td>
                    <td class="optionName" title="说明"
                        data-content="视频加密串,以逗号分隔">视频加密串,以逗号分隔</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>username</td>
                    <td class="optionName" title="说明"
                        data-content="用户名">PP云用户名</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>apitk</td>
                    <td class="optionName" title="说明"
                        data-content="apitk">API Token</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
            </table>
            <h4>请求示例</h4>
            <p>
                URL:
                <a target="_blank" href="http://svc.pptvyun.com/svc/v1/api/channel/playable">
                    http://svc.pptvyun.com/svc/v1/api/channel/playable
                </a>
            </p>
            <p>
                Body:
            </p>
            <pre class="prettyprint">
    {
        "username": "ppcloud-api@pptv.com",
        "apitk": "819DB9741CB74702CB3F32CD7E5A4FED",
        "channelwebids": "0a2dnqybpKKkmqqL4K2dnqfhpaGcn6ia,0a2dnqybpKKkmqqL4K2dnqfhpaGcn6ia",
        "isplay": "1"
    }
            </pre>
            <h4>返回示例</h4>
<pre class="prettyprint">
    {
      "data": "",
      "err": 0,
      "msg": "udpateUserChannelStatus success"
    }
</pre>

            <h3>视频播放</h3>
            <ul>
                <li>URL方式
                <p>http://v.pptvyun.ppqa.com/show/0a2dnqyaqKmgoauL4K2hoqrhoaChoKaa.html</p></li>
                <li>JS代码
                <pre class="prettyprint javascript">
    &lt;script type='text/javascript' src='http://www.pptvyun.com/ppcloud_play_v1_0.js'&gt;&lt;/script&gt;
    &lt;div class='player' name='player' id='player'&gt;&lt;/div&gt;
    &lt;script type='text/javascript'&gt;
        ppliveplayer.addVideo({'id': '0a2dnqyaqKmgoauL4K2hoqrhoaChoKaa','autoplay':1 }, 'player');
    &lt;/script&gt;
                </pre></li>
                <li>Flash地址
                <p>http://player.pptvyun.ppqa.com/svc/flashplayer/pl/0a2dnqyaqKmgoauL4K2hoqrhoaChoKaa.swf</p></li>
                <li>HTML代码
                <pre class="prettyprint">
&lt;embed src='http://player.pptvyun.ppqa.com/svc/flashplayer/pl/0a2dnqyaqKmgoauL4K2hoqrhoaChoKaa.swf' quality='high' width='480' height='390' align='middle' allowScriptAccess='always' allownetworking='all' allowfullscreen='true' type='application/x-shockwave-flash' wmode='window'&gt;&lt;/embed&gt;
                </pre></li>
            </ul>

            <h3>视频状态回调</h3>
            <h4>接口定义</h4>
            <table class="table table-striped table-bordered">
                <tr>
                    <td>接口描述</td>
                    <td>接收视频状态URL(客户提供)</td>
                </tr>
                <tr>
                    <td>接口地址</td>
                    <td>客户提供</td>
                </tr>
                <tr>
                    <td>接口协议</td>
                    <td>HTTP POST</td>
                </tr>
                <tr>
                    <td>HTTP HEADER</td>
                    <td>Content-Type=application/json</td>
                </tr>
            </table>
            <h4>请求参数</h4>
            <table class="table table-striped table-bordered">
                <tr>
                    <th>名称</th>
                    <th>说明</th>
                    <th>数据类型</th>
                    <th>必填</th>
                </tr>
                <tr>
                    <td>username</td>
                    <td class="optionName" title="说明"
                        data-content="用户名">用户名</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>channeltype</td>
                    <td class="optionName" title="说明"
                        data-content="类型">类型 1：点播，2：直播</td>
                    <td>int</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>channelid</td>
                    <td class="optionName" title="说明"
                        data-content="视频id">视频id</td>
                    <td>int</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>transcode</td>
                    <td class="optionName" title="说明"
                        data-content="直播状态码(notstart,init,preview,living,pause,broken,stopped,deleted,sysdeleted)">直播状态码</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>msg</td>
                    <td class="optionName" title="说明"
                        data-content="消息（状态码180时，返回审核不通过原因）">消息</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>duration</td>
                    <td class="optionName" title="说明"
                        data-content="视频时长,单位:秒">视频时长,单位:秒</td>
                    <td>int</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>live2vod_status</td>
                    <td class="optionName" title="说明"
                        data-content="直转点状态">直转点状态</td>
                    <td>int</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>sign</td>
                    <td class="optionName" title="说明"
                        data-content="签名">签名</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
            </table>
            <h4>请求示例</h4>
            <p>
                URL:
                <a target="_blank" href="#">
                    http://xx.com/notify_status
                </a>
            </p>
            <p>
                Body:
            </p>
            <pre class="prettyprint">
    {
        "username":"ppcloud-test1@pptv.com",
        "channeltype":"2",
        "channelid":"150000000",
        "transcode":"0",
        "livestatus":"init",
        "live2vod_status": 12,
        "msg":"",
        "duration":300,
        "sign":"ABFE350C72FBC3FFB73F7B66DF0F0819"
    }
            </pre>
            <h4>备注</h4>
            <ul>
                <li>推送地址由CP提供（如：http://xxx.xxxxxx.com/callback）</li>
                <li>sign加密格式 MD5(key+URL+username)</li>
                <li>PP云收到httpcode=200表示CP成功接收，对于请求失败PP云重试3次。</li>
            </ul>

            <h2>直播</h2>
            <h3>基础参数说明</h3>
            <table class="table table-striped table-bordered">
                <tr>
                    <th>名称</th>
                    <th>说明</th>
                    <th>数据类型</th>
                </tr>
                <tr>
                    <td>_apitk</td>
                    <td class="optionName" title="说明"
                        data-content="_apitk=MD5(key + url)">_apitk=MD5(key + url)</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>cb</td>
                    <td class="optionName" title="说明"
                        data-content="callback(jsonp必填)">callback(jsonp必填)</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>_json</td>
                    <td class="optionName" title="说明"
                        data-content="jsonp调用时，将request body放入参数">jsonp调用时，将request body放入参数</td>
                    <td>string</td>
                </tr>
            </table>
            <h3>返回结果说明</h3>
            <table class="table table-striped table-bordered">
                <tr>
                    <th>名称</th>
                    <th>说明</th>
                    <th>数据类型</th>
                </tr>
                <tr>
                    <td>data</td>
                    <td class="optionName" title="说明"
                        data-content="返回结果集">返回结果集</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>err</td>
                    <td class="optionName" title="说明"
                        data-content="错误码">错误码</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>kind</td>
                    <td class="optionName" title="说明"
                        data-content="返回描述">返回描述</td>
                    <td>string</td>
                </tr>
            </table>
            <h3>创建直播</h3>
            <h4>接口定义</h4>
            <table class="table table-striped table-bordered">
                <tr>
                    <td>接口描述</td>
                    <td>创建节目</td>
                </tr>
                <tr>
                    <td>接口地址</td>
                    <td><a target="_blank" href="http://svc.pptvyun.com/svc/ft/v1/program/">http://svc.pptvyun.com/svc/ft/v1/program/</a></td>
                </tr>
                <tr>
                    <td>接口协议</td>
                    <td>HTTP GET</td>
                </tr>
                <tr>
                    <td>HTTP HEADER</td>
                    <td>Content-Type=application/json</td>
                </tr>
            </table>
            <h4>请求参数</h4>
            <table class="table table-striped table-bordered">
                <tr>
                    <th>名称</th>
                    <th>说明</th>
                    <th>数据类型</th>
                    <th>必填</th>
                </tr>
                <tr>
                    <td>_apitk</td>
                    <td class="optionName" title="说明"
                        data-content="API Token">API Token</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>json</td>
                    <td class="optionName" title="说明"
                        data-content="json格式的参数内容">json格式的参数内容</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>mode</td>
                    <td class="optionName" title="说明"
                        data-content="直播类型:camera, xsplit, rtmp, unknown">直播类型:camera, xsplit, rtmp, unknown</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>external_url</td>
                    <td class="optionName" title="说明"
                        data-content="rtmp方式，源地址">rtmp方式，源地址</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>watch_protocols</td>
                    <td class="optionName" title="说明"
                        data-content="播放协议: live2, rtmp">播放协议: live2, rtmp</td>
                    <td>array</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>cover_url</td>
                    <td class="optionName" title="说明"
                        data-content="封面">封面</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>starttime</td>
                    <td class="optionName" title="说明"
                        data-content="开始时间戳">开始时间戳</td>
                    <td>int</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>endtime</td>
                    <td class="optionName" title="说明"
                        data-content="结束时间戳">结束时间戳</td>
                    <td>int</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>subject_id</td>
                    <td class="optionName" title="说明"
                        data-content="分类id">分类id</td>
                    <td>int</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>owner</td>
                    <td class="optionName" title="说明"
                        data-content="帐号名">帐号名</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>title</td>
                    <td class="optionName" title="说明"
                        data-content="标题">标题</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>cb</td>
                    <td class="optionName" title="说明"
                        data-content="常量: create_program">常量: create_program</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
            </table>
            <h4>请求示例</h4>
            <p>
                URL:
                <a target="_blank" href="http://svc.pptvyun.com/svc/ft/v1/program?cb=create_program&_json=%7B%22subject_id%22%3A%22301%22%2C%22owner%22%3A%22ppcloud-api%40pptv.com%22%2C%22title%22%3A%22mylive1%22%2C%22starttime%22%3A1417080069285%2C%22endtime%22%3A1417090800000%2C%22tags%22%3A%5B%5D%2C%22intro%22%3A%22%22%2C%22cover_url%22%3A%22%22%2C%22cb%22%3A%22create_program%22%7D&_apitk=893BBBEA0CBEFFF1B1127DCFD7D605D2">
                    http://svc.pptvyun.com/svc/ft/v1/program?cb=create_program&_json=%7B%22subject_id%22%3A%22301%22%2C%22owner%22%3A%22ppcloud-api%40pptv.com%22%2C%22title%22%3A%22mylive1%22%2C%22starttime%22%3A1417080069285%2C%22endtime%22%3A1417090800000%2C%22tags%22%3A%5B%5D%2C%22intro%22%3A%22%22%2C%22cover_url%22%3A%22%22%2C%22cb%22%3A%22create_program%22%7D&_apitk=893BBBEA0CBEFFF1B1127DCFD7D605D2
                </a>
            </p>
            <p>_json</p>
            <pre class="prettyprint">
    URLEncoder({
            "mode": "rtmp",
            "external_url": "rtmp://pptv.com/1234567890abcd",
            "watch_protocols": [
                "live2",
                "rtmp"
            ],
            "cover_url": "http://pptv.com/cover.jpg",
            "starttime": 1383121461064,
            "endtime": 1383121461064,
            "subject_id": 1,
            "owner": "pptvuser",
            "title": "i'm title"
    })

            </pre>
            <h4>响应内容</h4>
            <table class="table table-striped table-bordered">
                <tr>
                    <th>名称</th>
                    <th>说明</th>
                    <th>数据类型</th>
                </tr>
                <tr>
                    <td>owner</td>
                    <td class="optionName" title="说明"
                        data-content="用户名">用户名</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>subject</td>
                    <td class="optionName" title="说明"
                        data-content="分类名">分类名</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>mode</td>
                    <td class="optionName" title="说明"
                        data-content="直播类型">直播类型</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>channelid</td>
                    <td class="optionName" title="说明"
                        data-content="视频id">视频id</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>starttime</td>
                    <td class="optionName" title="说明"
                        data-content="开始时间">开始时间</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>endtime</td>
                    <td class="optionName" title="说明"
                        data-content="结束时间">结束时间</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>title</td>
                    <td class="optionName" title="说明"
                        data-content="视频标题">视频标题</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>intro</td>
                    <td class="optionName" title="说明"
                        data-content="视频描述">视频描述</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>livestatus</td>
                    <td class="optionName" title="说明"
                        data-content="直播状态">直播状态</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>streamstatus</td>
                    <td class="optionName" title="说明"
                        data-content="直播流状态">直播流状态</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>screenshot_url</td>
                    <td class="optionName" title="说明"
                        data-content="截图">截图</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>insert_time</td>
                    <td class="optionName" title="说明"
                        data-content="创建时间">创建时间</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>last_update_time</td>
                    <td class="optionName" title="说明"
                        data-content="更新时间">更新时间</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>cover_url</td>
                    <td class="optionName" title="说明"
                        data-content="封面图">封面图</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>subject_id</td>
                    <td class="optionName" title="说明"
                        data-content="分类id">分类id</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>watch_protocols</td>
                    <td class="optionName" title="说明"
                        data-content="播放协议">播放协议</td>
                    <td>array</td>
                </tr>
                <tr>
                    <td>playencode</td>
                    <td class="optionName" title="说明"
                        data-content="视频webid">视频webid</td>
                    <td>string</td>
                </tr>
            </table>
            <h4>返回示例</h4>
<pre class="prettyprint">
    create_program({
        "data": {
            "owner": "ppcloud-api@pptv.com",
            "subject": "mylive1",
            "mode": "unknown",
            "channelid": 151700607,
            "tags": [],
            "coname": null,
            "broad": "",
            "starttime": 1417080069285,
            "endtime": null,
            "title": "mylive1",
            "intro": "",
            "exts": {
                "nickname": null
            },
            "user": {
                "userName": "ppcloud-api@pptv.com",
                "icon": "",
                "nickname": "xuxin"
            },
            "livestatus": "nostart",
            "streamstatus": null,
            "real_starttime": null,
            "real_endtime": null,
            "screenshot_url": null,
            "record": null,
            "recommend": null,
            "insert_time": 1417080457871,
            "last_update_time": 1417080457871,
            "cover_url": "",
            "external_url": "",
            "subject_id": 301,
            "watch_protocols": ["rtmp","live2"],
            "playencode": "MYtIuzib5NULaacZc3Ch7yh4id",
            "tk": null,
            "liveStartTime": 1417080069285,
            "liveEndTime": 1417090800000,
            "passportname": null,
            "channelWebId": "0a2dnq6ZoqikmqiL4K2dnqfhoaSloa-bpQ",
            "username": null,
            "time_limit": null,
            "roomid": null,
            "timepreset": null,
            "epg_category_id": null
        },
        "err": 0,
        "kind": "pplp#programRespV1"
    });
</pre>

            <h3>更新直播信息</h3>
            <h4>接口定义</h4>
            <table class="table table-striped table-bordered">
                <tr>
                    <td>接口描述</td>
                    <td>修改直播详情</td>
                </tr>
                <tr>
                    <td>接口地址</td>
                    <td><a target="_blank" href="http://svc.pptvyun.com/svc/ft/v2/program/{channelwebid}/info">http://svc.pptvyun.com/svc/ft/v2/program/{channelwebid}/info</a></td>
                </tr>
                <tr>
                    <td>接口协议</td>
                    <td>HTTP POST</td>
                </tr>
                <tr>
                    <td>HTTP HEADER</td>
                    <td>Content-Type=application/json</td>
                </tr>
            </table>
            <h4>请求参数</h4>
            <table class="table table-striped table-bordered">
                <tr>
                    <th>名称</th>
                    <th>说明</th>
                    <th>数据类型</th>
                    <th>必填</th>
                </tr>
                <tr>
                    <td>_apitk</td>
                    <td class="optionName" title="说明"
                        data-content="API Token">API Token</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>mode</td>
                    <td class="optionName" title="说明"
                        data-content="直播类型:camera, xsplit, rtmp, unknown">直播类型:camera, xsplit, rtmp, unknown</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>external_url</td>
                    <td class="optionName" title="说明"
                        data-content="rtmp方式，源地址">rtmp方式，源地址</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>watch_protocols</td>
                    <td class="optionName" title="说明"
                        data-content="播放协议: live2, rtmp">播放协议: live2, rtmp</td>
                    <td>array</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>cover_url</td>
                    <td class="optionName" title="说明"
                        data-content="封面">封面</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>starttime</td>
                    <td class="optionName" title="说明"
                        data-content="开始时间戳">开始时间戳</td>
                    <td>int</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>endtime</td>
                    <td class="optionName" title="说明"
                        data-content="结束时间戳">结束时间戳</td>
                    <td>int</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>subject_id</td>
                    <td class="optionName" title="说明"
                        data-content="分类id">分类id</td>
                    <td>int</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>title</td>
                    <td class="optionName" title="说明"
                        data-content="标题">标题</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
            </table>
            <h4>请求示例</h4>
            <p>
                URL:
                <a target="_blank" href="http://svc.pptvyun.com/svc/ft/v2/program/0a2dnquVoKClnK2L4K0/info?_apitk=C9C71F8FCBC9EE5EFA957E23C1A96617">
                    http://svc.pptvyun.com/svc/ft/v2/program/0a2dnquVoKClnK2L4K0/info?_apitk=C9C71F8FCBC9EE5EFA957E23C1A96617
                </a>
            </p>
            <p>_json</p>
            <pre class="prettyprint">
    {
        "watch_protocols": ["live2","rtmp"],
        "external_url": "",
        "mode": "xsplit"
    }
            </pre>
            <h4>返回示例</h4>
<pre class="prettyprint">
    {
        "data": null,
        "err": 0,
        "kind": "pplp#success"
    }
</pre>

            <h3>获取推流地址</h3>
            <h4>接口定义</h4>
            <table class="table table-striped table-bordered">
                <tr>
                    <td>接口描述</td>
                    <td>获取推流地址</td>
                </tr>
                <tr>
                    <td>接口地址</td>
                    <td><a target="_blank" href="http://svc.pptvyun.com/ft/v2/program/{channelwebid}/publish">http://svc.pptvyun.com/svc/ft/v2/program/{channelwebid}/publish</a></td>
                </tr>
                <tr>
                    <td>接口协议</td>
                    <td>HTTP GET</td>
                </tr>
                <tr>
                    <td>HTTP HEADER</td>
                    <td>Content-Type=application/json</td>
                </tr>
            </table>
            <h4>请求参数</h4>
            <table class="table table-striped table-bordered">
                <tr>
                    <th>名称</th>
                    <th>说明</th>
                    <th>数据类型</th>
                    <th>必填</th>
                </tr>
                <tr>
                    <td>channelwebid</td>
                    <td class="optionName" title="说明"
                        data-content="视频webid">视频webid</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>_apitk</td>
                    <td class="optionName" title="说明"
                        data-content="API Token">API Token</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>coded</td>
                    <td class="optionName" title="说明"
                        data-content="true:返回结果中path字段的值为/publish，false:返回结果中path字段的值为/push">true或者false,默认为false</td>
                    <td>string</td>
                    <td>否</td>
                </tr>
            </table>
            <h4>请求示例</h4>
            <p>
                URL:
                <a target="_blank" href="http://svc.pptvyun.com/svc/ft/v2/program/0a2dnquVoKClnK2L4K0/publish?_apitk=D9B0630DD36FBC04ECAA61E5FBDEA4C9&coded=false">
                    http://svc.pptvyun.com/svc/ft/v2/program/0a2dnquVoKClnK2L4K0/publish?_apitk=D9B0630DD36FBC04ECAA61E5FBDEA4C9&coded=false
                </a>
            </p>
            <h4>响应内容</h4>
            <table class="table table-striped table-bordered">
                <tr>
                    <th>名称</th>
                    <th>说明</th>
                    <th>数据类型</th>
                </tr>
                <tr>
                    <td>name</td>
                    <td class="optionName" title="说明"
                        data-content="流名称">流名称</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>path</td>
                    <td class="optionName" title="说明"
                        data-content="推流方式(push,publish)">推流方式(push,publish)</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>protocol</td>
                    <td class="optionName" title="说明"
                        data-content="协议">协议</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>args</td>
                    <td class="optionName" title="说明"
                        data-content="参数">参数</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>channelid</td>
                    <td class="optionName" title="说明"
                        data-content="频道id">频道id</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>now</td>
                    <td class="optionName" title="说明"
                        data-content="当前时间戳">当前时间戳</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>addr</td>
                    <td class="optionName" title="说明"
                        data-content="收流地址">收流地址</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>isTurnOn</td>
                    <td class="optionName" title="说明"
                        data-content="logo是否显示">logo是否显示</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>url</td>
                    <td class="optionName" title="说明"
                        data-content="logo链接">logo链接</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>align</td>
                    <td class="optionName" title="说明"
                        data-content="logo位置">logo位置</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>diaphaneity</td>
                    <td class="optionName" title="说明"
                        data-content="透明度">透明度</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>ax</td>
                    <td class="optionName" title="说明"
                        data-content="ax">ax</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>ay</td>
                    <td class="optionName" title="说明"
                        data-content="ay">ay</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>width</td>
                    <td class="optionName" title="说明"
                        data-content="宽度">宽度</td>
                    <td>string</td>
                </tr>
            </table>
            <h4>返回示例</h4>
<pre class="prettyprint">
    {
        "data": {
            "name": "538a9889317942939b0d81fd5a192e27?ts=1417167315&token=fa97500e2920a8a2d55748ae8846080b",
            "path": "/push",
            "protocol": "rtmp",
            "args": [],
            "channelid": 151700607,
            "now": 1417080915969,
            "addr": ["118.123.212.91:1936","61.155.219.50:1936"],
            "logo": null
        },
        "err": 0,
        "msg": null
    }
</pre>

            <h3>获取流状态</h3>
            <h4>接口定义</h4>
            <table class="table table-striped table-bordered">
                <tr>
                    <td>接口描述</td>
                    <td>获取直播流状态</td>
                </tr>
                <tr>
                    <td>接口地址</td>
                    <td><a target="_blank" href="http://svc.pptvyun.com/ft/v2/program/{channelwebid}/livestatus">http://svc.pptvyun.com/svc/ft/v2/program/{channelwebid}/livestatus</a></td>
                </tr>
                <tr>
                    <td>接口协议</td>
                    <td>HTTP GET</td>
                </tr>
                <tr>
                    <td>HTTP HEADER</td>
                    <td>Content-Type=application/json</td>
                </tr>
            </table>
            <h4>请求参数</h4>
            <table class="table table-striped table-bordered">
                <tr>
                    <th>名称</th>
                    <th>说明</th>
                    <th>数据类型</th>
                    <th>必填</th>
                </tr>
                <tr>
                    <td>channelwebid</td>
                    <td class="optionName" title="说明"
                        data-content="视频webid">视频webid</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>_apitk</td>
                    <td class="optionName" title="说明"
                        data-content="API Token">API Token</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
            </table>
            <h4>请求示例</h4>
            <p>
                URL:
                <a target="_blank" href="http://svc.pptvyun.com/svc/ft/v2/program/0a2dnquVoKClnK2L4K0/livestatus?_apitk=CDA6169B4B0E5B92AE564E7661D4A3DD">
                    http://svc.pptvyun.com/svc/ft/v2/program/0a2dnquVoKClnK2L4K0/livestatus?_apitk=CDA6169B4B0E5B92AE564E7661D4A3DD
                </a>
            </p>
            <h4>响应内容</h4>
            <table class="table table-striped table-bordered">
                <tr>
                    <th>名称</th>
                    <th>说明</th>
                    <th>数据类型</th>
                </tr>
                <tr>
                    <td>delay</td>
                    <td class="optionName" title="说明"
                        data-content="下次请求时延">下次请求时延</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>channelid</td>
                    <td class="optionName" title="说明"
                        data-content="频道id">频道id</td>
                    <td>int</td>
                </tr>
                <tr>
                    <td>livestatus</td>
                    <td class="optionName" title="说明"
                        data-content="直播状态">直播状态</td>
                    <td>string</td>
                </tr>
                <tr>
                    <td>streamstatus</td>
                    <td class="optionName" title="说明"
                        data-content="直播流状态">直播流状态</td>
                    <td>string</td>
                </tr>
            </table>
            <h4>返回示例</h4>
<pre class="prettyprint">
    {
      "data": {
        "delay": 300,
        "channelid": 158428802,
        "livestatus": "init",
        "streamstatus": null
      },
      "err": 0,
      "msg": null
    }
</pre>

            <h3>流状态控制</h3>
            <h4>接口定义</h4>
            <table class="table table-striped table-bordered">
                <tr>
                    <td>接口描述</td>
                    <td>直播控制</td>
                </tr>
                <tr>
                    <td>接口地址</td>
                    <td><a target="_blank" href="http://svc.pptvyun.com/ft/v2/program/{channelwebid}/livestatus">http://svc.pptvyun.com/svc/ft/v2/program/{channelwebid}/livestatus</a></td>
                </tr>
                <tr>
                    <td>接口协议</td>
                    <td>HTTP POST</td>
                </tr>
                <tr>
                    <td>HTTP HEADER</td>
                    <td>Content-Type=application/json</td>
                </tr>
            </table>
            <h4>请求参数</h4>
            <table class="table table-striped table-bordered">
                <tr>
                    <th>名称</th>
                    <th>说明</th>
                    <th>数据类型</th>
                    <th>必填</th>
                </tr>
                <tr>
                    <td>channelwebid</td>
                    <td class="optionName" title="说明"
                        data-content="视频webid">视频webid</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>_apitk</td>
                    <td class="optionName" title="说明"
                        data-content="API Token">API Token</td>
                    <td>string</td>
                    <td>是</td>
                </tr>
            </table>
            <h4>请求示例</h4>
            <p>
                URL:
                <a target="_blank" href="http://svc.pptvyun.com/svc/ft/v2/program/0a2dnquVoKClnK2L4K0/livestatus?_apitk=CDA6169B4B0E5B92AE564E7661D4A3DD">
                    http://svc.pptvyun.com/svc/ft/v2/program/0a2dnquVoKClnK2L4K0/livestatus?_apitk=CDA6169B4B0E5B92AE564E7661D4A3DD
                </a>
            </p>
            <p>
                Body:
            </p>
            <pre class="prettyprint">
    {
        "livestatus": "init"
    }
            </pre>
            <h4>返回示例</h4>
<pre class="prettyprint">
    {
        "err": 0,
        "kind": "pplp#success"
    }
</pre>

            <h3>直播流状态回调</h3>
            <p>请参考 点播-视频状态回调</p>

            <h2>其他</h2>
            <h3>视频转码状态表</h3>
            <table class="table table-striped table-bordered">
                <tr>
                    <th>code</th>
                    <th>说明</th>
                </tr>
                <tr>
                    <td>0</td>
                    <td class="optionName" title="说明"
                        data-content="创建（公有云创建文件）">创建（公有云创建文件）</td>
                </tr>
                <tr>
                    <td>99</td>
                    <td class="optionName" title="说明"
                        data-content="重传中">重传中</td>
                </tr>
                <tr>
                    <td>101</td>
                    <td class="optionName" title="说明"
                        data-content="待压制">待压制</td>
                </tr>
                <tr>
                    <td>102</td>
                    <td class="optionName" title="说明"
                        data-content="压制中">压制中</td>
                </tr>
                <tr>
                    <td>106</td>
                    <td class="optionName" title="说明"
                        data-content="待review">待review</td>
                </tr>
                <tr>
                    <td>107</td>
                    <td class="optionName" title="说明"
                        data-content="reviewing">reviewing</td>
                </tr>
                <tr>
                    <td>111</td>
                    <td class="optionName" title="说明"
                        data-content="待分发">待分发</td>
                </tr>
                <tr>
                    <td>112</td>
                    <td class="optionName" title="说明"
                        data-content="分发中">分发中</td>
                </tr>
                <tr>
                    <td>116</td>
                    <td class="optionName" title="说明"
                        data-content="待回调">待回调</td>
                </tr>
                <tr>
                    <td>150-179</td>
                    <td class="optionName" title="说明"
                        data-content="压制失败">压制失败</td>
                </tr>
                <tr>
                    <td>180</td>
                    <td class="optionName" title="说明"
                        data-content="review不通过">review不通过</td>
                </tr>
                <tr>
                    <td>190</td>
                    <td class="optionName" title="说明"
                        data-content="分发失败">分发失败</td>
                </tr>
                <tr>
                    <td>191</td>
                    <td class="optionName" title="说明"
                        data-content="回调失败">回调失败</td>
                </tr>
                <tr>
                    <td>200</td>
                    <td class="optionName" title="说明"
                        data-content="可播放">可播放</td>
                </tr>
                <tr>
                    <td>210</td>
                    <td class="optionName" title="说明"
                        data-content="入epg中">入epg中</td>
                </tr>
                <tr>
                    <td>211</td>
                    <td class="optionName" title="说明"
                        data-content="入epg失败">入epg失败</td>
                </tr>
                <tr>
                    <td>212</td>
                    <td class="optionName" title="说明"
                        data-content="入epg成功">入epg成功</td>
                </tr>
            </table>

            <h3>直播状态表</h3>
            <table class="table table-striped table-bordered">
                <tr>
                    <th>状态</th>
                    <th>说明</th>
                </tr>
                <tr>
                    <td>notstart</td>
                    <td class="optionName" title="说明"
                        data-content="未开始">未开始</td>
                </tr>
                <tr>
                    <td>init</td>
                    <td class="optionName" title="说明"
                        data-content="初始化">初始化</td>
                </tr>
                <tr>
                    <td>preview</td>
                    <td class="optionName" title="说明"
                        data-content="预览">预览</td>
                </tr>
                <tr>
                    <td>living</td>
                    <td class="optionName" title="说明"
                        data-content="直播中">直播中</td>
                </tr>
                <tr>
                    <td>stopped</td>
                    <td class="optionName" title="说明"
                        data-content="已结束">已结束</td>
                </tr>
                <tr>
                    <td>pause</td>
                    <td class="optionName" title="说明"
                        data-content="暂停">暂停</td>
                </tr>
                <tr>
                    <td>broken</td>
                    <td class="optionName" title="说明"
                        data-content="断流">断流</td>
                </tr>
                <tr>
                    <td>deleted</td>
                    <td class="optionName" title="说明"
                        data-content="已删除">已删除</td>
                </tr>
                <tr>
                    <td>sysdeleted</td>
                    <td class="optionName" title="说明"
                        data-content="系统删除">系统删除</td>
                </tr>
            </table>

            <h3>推流地址使用方式</h3>
            <ul>
                <li>推流地址拼接逻辑: rtmp://{addr}/{path}/{name}
                </li>
                <li>
                    推流地址拼接示例：
                    rtmp://60.55.12.165:1936/push/56fb2c60fc724870aeb6877547c558f7?ts=1404458188&token=47b0e7f6c69c627af5e16d4c40a1f7b1
                </li>
            </ul>


            <h3>截图地址使用方式</h3>
            <ul>
                <li>
                    视频列表接口的screenshot只返回相对路径，如：
                    <p>/c4/3d/c43d58fda4f2e9025575dfa155001819/1.jpg</p>
                </li>
                <li>
                    拼接后的完整路径为:
                    <p>http://v.img.pplive.cn/cp160/c4/3d/c43d58fda4f2e9025575dfa155001819/1.jpg</p>
                </li>
                <li>
                    cp160为显示尺寸,格式如下:
                    <table class="table table-striped table-bordered">
                        <tr>
                            <th>类型</th>
                            <th>宽</th>
                            <th>高</th>
                            <th>前缀</th>
                            <th></th>
                        </tr>
                        <tr>
                            <td>resize</td>
                            <td>80</td>
                            <td>60</td>
                            <td>sp80</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>100</td>
                            <td>75</td>
                            <td>sp100</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>120</td>
                            <td>90</td>
                            <td>sp120,sp,as</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>128</td>
                            <td>96</td>
                            <td>sp128,P0-P9</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>160</td>
                            <td>120</td>
                            <td>sp160</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>200</td>
                            <td>150</td>
                            <td>sp200</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>240</td>
                            <td>180</td>
                            <td>sp240</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>300</td>
                            <td>225</td>
                            <td>sp300</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>crop</td>
                            <td>160</td>
                            <td>120</td>
                            <td>cp160</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>120</td>
                            <td>90</td>
                            <td>cp120</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>120</td>
                            <td>160</td>
                            <td>sp121</td>
                            <td>竖版截图</td>
                        </tr>
                        <tr>
                            <td>crop 16:9</td>
                            <td>160</td>
                            <td>90</td>
                            <td>cp16</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>120</td>
                            <td>67</td>
                            <td>cp12</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>100</td>
                            <td>56</td>
                            <td>cp10</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>200</td>
                            <td>122</td>
                            <td>cp20</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>308</td>
                            <td>173</td>
                            <td>cp308</td>
                            <td></td>
                        </tr>
                    </table>
                </li>
            </ul>
        </div><!--/span-->
    </div><!--/row-->

</div><!--/.fluid-container-->

<!-- Le javascript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="../libs/jquery/jquery-1.8.3.min.js"></script>
<script src="../libs/jqueryui/jquery-ui-1.9.1.custom.min.js"></script>
<script src="javascripts/bootstrap.js"></script>
<script src="../src/javascripts/jquery.tocify.js"></script>
<script src="javascripts/prettify.js"></script>
<script>
    $(function () {

        var toc = $("#toc").tocify({
            selectors: "h2,h3,h4,h5"
        }).data("toc-tocify");

        prettyPrint();
        $(".optionName").popover({trigger: "hover"});

    });
</script>
</body>
</html>